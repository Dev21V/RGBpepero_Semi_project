<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.test1.mapper.GuestRegMapper">
	
	
	<select id="selectGuestInfo" parameterType="hashmap" resultType="com.example.mini.model.Guest">
		SELECT *
		FROM mini_db2.T1_GUEST;
	</select>

	<insert id="insertDelivery" parameterType="hashmap">
		INSERT INTO mini_db2.T1_DELIVERY
		VALUES
			(NULL, 0, #{shipMemo}, #{dStatus}, NULL, NULL)
	</insert>
	
	<insert id="insertGuestOrder" parameterType="hashmap">
		INSERT INTO mini_db2.T1_ORDER
		SELECT 
			NULL, #{gphone}, #{userId}, #{productNo}, NULL, NOW(), #{totalCnt}, U_ADDRNO, U_ADDR1, U_ADDR2, U_PHONE, #{sendContent}, #{purchase}, #{totalPrice}, NULL 
		FROM mini_db2.T1_USER
		WHERE USERID = #{userId}
	</insert>
		
	<insert id="insertGuest" parameterType="hashmap">
		INSERT INTO mini_db2.T1_GUEST
		VALUES
			(10, #{userid}, #{gphone}, #{gpostcode}, #{gaddress}, #{gaddrDetail}, #{gname}, 10)
	</insert>
	
	
</mapper>