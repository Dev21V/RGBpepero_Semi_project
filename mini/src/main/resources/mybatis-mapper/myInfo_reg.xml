<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.test1.mapper.RegistryMapper">
	
	
	<select id="selectRegistryInfo" parameterType="hashmap" resultType="com.example.mini.model.Registry">
		SELECT
			REGISTYNO,
			R_URL,
			R_NAME,
			PRODUCTNO,
			TRIPNO,
			R_CDATETIME,
			R_UDATETIME,
			R_OPTION,
			R_CONTENT,
			USERID,
			FUNDYN
		FROM 
			mini_db2.T1_REGISTRY
		WHERE 
			USERID = #{userId};
	</select>
	
	<select id="selectUserImage" parameterType="hashmap" resultType="com.example.mini.model.UserImage">
		SELECT
			SRCIMAGENO,
			USERID,
			IMGSRC,
			IMGNAME,
			ORGNAME,
			IMGTYPE,
			IMGUESTYPE
		FROM
			mini_db2.T1_USERIMAGE
		WHERE 
			USERID = #{userId};
	</select>
	<insert id="saveUserImg" parameterType="hashmap">
		INSERT INTO mini_db2.T1_USERIMAGE
		VALUES
			(#{srcimageNo}, #{userId}, #{imgSrc}, #{imgName}, #{orgName}), #{imgType}, #{imgUestype})
	</insert>

	<insert id="updateUserImg" parameterType="hashmap">
		UPDATE mini_db2.T1_USERIMAGE
		SET			
			IMGSRC = #{imgSrc},
			IMGNAME = #{imgName},
			ORGNAME = #{orgName},
			IMGTYPE = #{imgType},
			IMGUESTYPE = #{imgUestype}			
		WHERE
			SRCIMAGENO = #{srcimageNo};
	</insert>
</mapper>